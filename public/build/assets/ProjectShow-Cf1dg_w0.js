import{d as dt,r as f,Q as ut,p as ct,y as j,f as pt,w as n,o as u,b as t,g as s,h as i,n as V,m as A,c,z as $,t as d,F as I,k as E,j as M,v as S,A as mt,i as L}from"./app-fJPKEAaS.js";import{p as vt,x as P,b as ft,y as J,V as bt,I as X,a as ht,m as yt}from"./icon-calendar-B4xa-I8x.js";import{_ as gt,S as xt}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-ClAzGnZk.js";import{C as _t}from"./component-B1m44qpa.js";import{q as kt}from"./index-D8RNIc7E.js";/* empty css                   */import{I as R}from"./icon-plus-Crf-n9Iv.js";import{I as z}from"./icon-horizontal-dots-Bp2Vid3t.js";import{I as wt}from"./icon-edit-CMu1WNPB.js";import{I as W}from"./icon-trash-lines-DT_5IVB4.js";import{I as O}from"./icon-x-BEBhSaFc.js";import{Y as B,h as C,_ as F,G as q,S as Y}from"./transition-B6GIJNtS.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vue.runtime.esm-bundler-DHlK8Qv0.js";import"./icon-user.vue_vue_type_script_setup_true_lang-Bw-V_A28.js";const Ct={class:"flex"},Tt={class:"flex"},jt={class:"relative mt-5"},Dt={class:"h-full -mx-2"},$t={class:"overflow-x-auto flex items-start flex-nowrap gap-5 px-2 pb-2"},It={class:"panel w-80 flex-none"},Mt={class:"mb-3"},St=["onClick"],Nt={class:"flex justify-between mb-5"},Ut={class:"text-base font-semibold"},Vt={class:"flex items-center"},At={class:"dropdown"},Et={type:"button",class:"hover:text-primary"},Lt=["onClick"],Pt=["onClick"],Jt=["onClick"],zt=["onClick"],Ot={class:"shadow bg-[#f4f4f4] dark:bg-white-dark/20 p-3 pb-5 rounded-md mb-5 space-y-3 cursor-move"},Bt={key:0,src:"/assets/images/carousel1.jpeg",alt:"images",class:"h-32 w-full object-cover rounded-md"},Ft={class:"text-base font-medium"},qt={class:"break-all"},Yt={class:"flex gap-2 items-center flex-wrap"},Ht={class:"btn px-2 py-1 flex btn-outline-primary"},Gt={class:"ltr:ml-2 rtl:mr-2"},Kt={key:1,class:"btn px-2 py-1 flex text-white-dark dark:border-white-dark/50 shadow-none"},Qt={class:"flex items-center justify-between"},Xt={class:"font-medium flex items-center hover:text-primary"},Rt={class:"flex items-center"},Wt=["onClick"],Zt=["onClick"],te={class:"flex flex-col gap-5"},ee={class:"flex items-start panel rounded-lg shadow-md"},se={class:"w-32 ltr:mr-4 rtl:ml-4 flex-none text-lg font-bold"},le={class:"flex-auto"},oe=["innerHTML"],ae={class:"flex items-start panel rounded-lg shadow-md"},ie={class:"w-32 ltr:mr-4 rtl:ml-4 flex-none text-lg font-bold"},ne={class:"flex-auto"},re={class:"panel p-0 flex-1"},de={key:0,class:"flex items-center justify-center h-full relative p-4"},ue={key:1,class:"relative h-full"},ce={class:"flex justify-between items-center p-4"},pe={class:"flex items-center space-x-2 rtl:space-x-reverse"},me={class:"relative flex-none"},ve=["src"],fe={class:"mx-3"},be={class:"font-semibold"},he={class:"text-white-dark text-xs"},ye={class:"flex sm:gap-5 gap-3"},ge={type:"button",class:"bg-[#f4f4f4] dark:bg-[#1b2e4b] hover:bg-primary-light w-8 h-8 rounded-full !flex justify-center items-center"},xe={class:"p-4 absolute bottom-0 left-0 w-full"},_e={class:"sm:flex w-full space-x-3 rtl:space-x-reverse items-center"},ke={class:"relative flex-1"},we={type:"button",class:"absolute ltr:left-4 rtl:right-4 top-1/2 -translate-y-1/2 hover:text-primary"},Ce={class:"items-center space-x-3 rtl:space-x-reverse sm:py-0 py-3 hidden sm:block"},Te={type:"button",class:"bg-[#f4f4f4] dark:bg-[#1b2e4b] hover:bg-primary-light rounded-md p-2 hover:text-primary"},je={class:"fixed inset-0 overflow-y-auto"},De={class:"flex min-h-full items-center justify-center px-4 py-8"},$e={class:"text-lg font-medium bg-[#fbfbfb] dark:bg-[#121c2c] ltr:pl-5 rtl:pr-5 py-3 ltr:pr-[50px] rtl:pl-[50px]"},Ie={class:"p-5"},Me={class:"grid gap-5"},Se={class:"flex justify-end items-center mt-8"},Ne={type:"submit",class:"btn btn-primary ltr:ml-4 rtl:mr-4"},Ue={class:"fixed inset-0 overflow-y-auto"},Ve={class:"flex min-h-full items-center justify-center px-4 py-8"},Ae={class:"text-lg font-medium bg-[#fbfbfb] dark:bg-[#121c2c] ltr:pl-5 rtl:pr-5 py-3 ltr:pr-[50px] rtl:pl-[50px]"},Ee={class:"p-5"},Le={class:"grid gap-5"},Pe={class:"flex justify-end items-center mt-8"},Je={type:"submit",class:"btn btn-primary ltr:ml-4 rtl:mr-4"},ze={class:"fixed inset-0 overflow-y-auto"},Oe={class:"flex min-h-full items-center justify-center px-4 py-8"},Be={class:"p-5 text-center"},Fe={class:"text-white bg-danger ring-4 ring-danger/30 p-4 rounded-full w-fit mx-auto"},qe={class:"flex justify-center items-center mt-8"},is=dt({__name:"ProjectShow",props:{projectProp:Object},setup(H){const Z=f({modules:{toolbar:[[{header:[1,2,!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]]},placeholder:""}),tt=ut(),et=f([]),st=f({dateFormat:"Y-m-d",position:"auto left"}),p=f({id:null,title:""}),a=f({projectId:null,id:null,title:"",description:"",tags:"",duelDate:"",attachedTo:""}),N=f(null),x=f(!1),_=f(!1),k=f(!1),m=f([]),G=(o=null)=>{setTimeout(()=>{p.value={id:null,title:""},o&&(p.value=JSON.parse(JSON.stringify(o))),x.value=!0})},lt=()=>{if(!p.value.title)return w("Title is required.","error"),!1;if(p.value.id){const o=m.value.find(e=>e.id===p.value.id);o.title=p.value.title}else{const e={id:(m.value.length?m.value.reduce((b,y)=>y.id>b?y.id:b,m.value[0].id):0)+1,title:p.value.title,tasks:[]};m.value.push(e)}w("Task has been saved successfully."),x.value=!1},ot=o=>{m.value=m.value.filter(e=>e.id!=o.id),w("Task has been deleted successfully.")},at=o=>{o.tasks=[]},K=(o,e=null)=>{a.value={projectId:null,id:null,title:"",description:"",tags:"",duelDate:"",attachedTo:""},e&&(a.value=JSON.parse(JSON.stringify(e)),a.value.tags=a.value.tags?a.value.tags.toString():""),a.value.projectId=o,_.value=!0},it=()=>{var e,b,y;if(!a.value.title)return w("Title is required.","error"),!1;const o=m.value.find(v=>v.id===a.value.projectId);if(a.value.id){const v=o.tasks.find(g=>g.id===a.value.id);v.title=a.value.title,v.description=a.value.description,v.tags=((e=a.value.tags)==null?void 0:e.length)>0?a.value.tags.split(","):[]}else{let v=0;(b=o.tasks)!=null&&b.length&&(v=o.tasks.reduce((D,Q)=>Q.id>D?Q.id:D,o.tasks[0].id));const g=new Date(a.value.duelDate),U=String(g.getDate()).padStart(2,"0"),l=String(g.getMonth()),r=g.getFullYear(),h=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],T={projectId:a.value.projectId,id:v+1,title:a.value.title,description:a.value.description,duelDate:U+" "+h[l]+", "+r,tags:((y=a.value.tags)==null?void 0:y.length)>0?a.value.tags.split(","):[]};o.tasks.push(T)}w("Task has been saved successfully."),_.value=!1},nt=(o,e=null)=>{N.value=e,setTimeout(()=>{k.value=!0},10)},rt=()=>{let o=m.value.find(e=>e.id===N.value.projectId);o.tasks=o.tasks.filter(e=>e.id!=N.value.id),w("Task has been deleted successfully."),k.value=!1},w=(o="",e="success")=>{xt.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,customClass:{container:"toast"}}).fire({icon:e,title:o,padding:"10px 20px"})};return ct(()=>{et.value=tt.props.availableUsers}),(o,e)=>{const b=j("Popper"),y=j("Link"),v=j("icon-menu"),g=j("icon-mood-smile"),U=j("icon-send");return u(),pt(gt,null,{default:n(()=>[t("div",null,[t("div",Ct,[s(i(yt),{as:"div",class:"mb-5"},{default:n(()=>[s(i(vt),{class:"flex flex-wrap mt-3"},{default:n(()=>[s(i(P),{as:"template"},{default:n(({selected:l})=>[t("button",{class:V(["p-3.5 py-2 -mb-[1px] ltr:mr-2 rtl:ml-2 block rounded hover:bg-primary hover:text-white !outline-none transition duration-300",{"bg-primary text-white":l}])}," Task Lists ",2)]),_:1}),s(i(P),{as:"template"},{default:n(({selected:l})=>[t("button",{class:V(["p-3.5 py-2 -mb-[1px] ltr:mr-2 rtl:ml-2 block rounded hover:bg-primary hover:text-white !outline-none transition duration-300",{"bg-primary text-white":l}])}," Description ",2)]),_:1}),s(i(P),{as:"template"},{default:n(({selected:l})=>[t("button",{class:V(["p-3.5 py-2 -mb-[1px] ltr:mr-2 rtl:ml-2 block rounded hover:bg-primary hover:text-white !outline-none transition duration-300",{"bg-primary text-white":l}])}," Conversation ",2)]),_:1})]),_:1}),s(i(ft),{class:"pt-5 flex-1 text-sm"},{default:n(()=>[s(i(J),null,{default:n(()=>[t("div",null,[t("div",Tt,[t("button",{type:"button",class:"btn btn-primary flex",onClick:e[0]||(e[0]=l=>G())},[s(R,{class:"w-5 h-5 ltr:mr-3 rtl:ml-3"}),e[20]||(e[20]=A(" Add Task List "))])]),t("div",jt,[t("div",Dt,[t("div",$t,[(u(!0),c(I,null,$(m.value,l=>(u(),c("div",{key:l.id},[t("div",It,[t("div",Mt,[t("button",{type:"button",class:"btn btn-primary mx-auto",onClick:r=>K(l.id)},[s(R),e[21]||(e[21]=A(" Add Task "))],8,St)]),t("div",Nt,[t("h4",Ut,d(l.title),1),t("div",Vt,[t("div",At,[s(b,{placement:"bottom-start",offsetDistance:"0"},{content:n(({close:r})=>[t("ul",{onClick:h=>r(),class:"text-black dark:text-white-dark whitespace-nowrap"},[t("li",null,[t("a",{href:"javascript:;",onClick:h=>G(l)},"Edit ",8,Pt)]),t("li",null,[t("a",{href:"javascript:;",onClick:h=>ot(l)},"Delete ",8,Jt)]),t("li",null,[t("a",{href:"javascript:;",onClick:h=>at(l)},"Clear All ",8,zt)])],8,Lt)]),default:n(()=>[t("button",Et,[s(z,{class:"opacity-70 hover:opacity-100"})])]),_:2},1024)])])]),s(i(bt),{class:"connect-sorting-content min-h-[150px]",group:"default","ghost-class":"sortable-ghost","drag-class":"sortable-drag",animation:200},{default:n(()=>[(u(!0),c(I,null,$(l.tasks,r=>{var h;return u(),c("div",{class:"sortable-list",key:l.id+""+r.id},[t("div",Ot,[r.image?(u(),c("img",Bt)):E("",!0),t("div",Ft,d(r.title),1),t("p",qt,d(r.description),1),t("div",Yt,[(h=r.tags)!=null&&h.length?(u(!0),c(I,{key:0},$(r.tags,(T,D)=>(u(),c("div",{key:D},[t("div",Ht,[s(X,{class:"shrink-0"}),t("span",Gt,d(T),1)])]))),128)):(u(),c("div",Kt,[s(X,{class:"shrink-0"}),e[22]||(e[22]=t("span",{class:"ltr:ml-2 rtl:mr-2"},"No Tags",-1))]))]),t("div",Qt,[t("div",Xt,[s(ht,{class:"ltr:mr-3 rtl:ml-3 shrink-0"}),t("span",null,d(r.duelDate),1)]),t("div",Rt,[t("button",{type:"button",class:"hover:text-info",onClick:T=>K(l.id,r)},[s(wt,{class:"ltr:mr-3 rtl:ml-3"})],8,Wt),t("button",{type:"button",class:"hover:text-danger",onClick:T=>nt(l.id,r)},[s(W)],8,Zt)])])])])}),128))]),_:2},1024)])]))),128))])])])])]),_:1}),s(i(J),null,{default:n(()=>[t("div",te,[t("div",ee,[t("div",se,d(o.$t("description")),1),t("div",le,[e[23]||(e[23]=t("h5",{class:"text-lg font-medium mb-4"},"Media heading",-1)),t("p",{innerHTML:H.projectProp.description},null,8,oe)])]),t("div",null,[t("div",ae,[t("div",ie,d(o.$t("attachments")),1),t("div",ne,[e[24]||(e[24]=t("h5",{class:"text-lg font-medium mb-4"},"Media heading",-1)),(u(!0),c(I,null,$(H.projectProp.attachments,(l,r)=>(u(),c("div",{key:r,class:"mt-2"},[s(y,{method:"get",as:"button",href:o.route("project-attachment.download",l.id),class:"text-primary italic underline hover:text-info"},{default:n(()=>[A(d(l.slug),1)]),_:2},1032,["href"])]))),128))])])])])]),_:1}),s(i(J),null,{default:n(()=>[t("div",re,[o.isShowUserChat?E("",!0):(u(),c("div",de,e[25]||(e[25]=[t("div",{class:"py-8 flex items-center justify-center flex-col"},[t("div",{class:"w-[280px] md:w-[430px] mb-8 h-[calc(100vh_-_320px)] min-h-[120px] text-white dark:text-[#0e1726]"})],-1)]))),o.isShowUserChat&&o.selectedUser?(u(),c("div",ue,[t("div",ce,[t("div",pe,[t("button",{type:"button",class:"xl:hidden hover:text-primary",onClick:e[1]||(e[1]=l=>o.isShowChatMenu=!o.isShowChatMenu)},[s(v)]),t("div",me,[t("img",{src:`/assets/images/${o.selectedUser.path}`,class:"rounded-full w-10 h-10 sm:h-12 sm:w-12 object-cover"},null,8,ve),e[26]||(e[26]=t("div",{class:"absolute bottom-0 ltr:right-0 rtl:left-0"},[t("div",{class:"w-4 h-4 bg-success rounded-full"})],-1))]),t("div",fe,[t("p",be,d(o.selectedUser.name),1),t("p",he,d(o.selectedUser.active?"Active now":"Last seen at "+o.selectedUser.time),1)])]),t("div",ye,[t("button",ge,[s(z,{class:"hover:text-primary rotate-90 opacity-70"})])])]),e[27]||(e[27]=t("div",{class:"h-px w-full border-b border-[#e0e6ed] dark:border-[#1b2e4b]"},null,-1)),t("div",xe,[t("div",_e,[t("div",ke,[M(t("input",{class:"form-input rounded-full border-0 bg-[#f4f4f4] px-12 focus:outline-none py-2",placeholder:"Type a message","onUpdate:modelValue":e[2]||(e[2]=l=>o.textMessage=l),onKeyup:e[3]||(e[3]=mt(L(l=>o.sendMessage(),["exact"]),["enter"]))},null,544),[[S,o.textMessage]]),t("button",we,[s(g)]),t("button",{type:"button",class:"absolute ltr:right-4 rtl:left-4 top-1/2 -translate-y-1/2 hover:text-primary",onClick:e[4]||(e[4]=l=>o.sendMessage())},[s(U)])]),t("div",Ce,[t("button",Te,[s(z,{class:"opacity-70"})])])])])])):E("",!0)])]),_:1})]),_:1})]),_:1}),e[28]||(e[28]=t("div",null,[t("div",null,"sao no lai khong hien len tren")],-1))]),s(i(Y),{appear:"",show:x.value,as:"template"},{default:n(()=>[s(i(B),{as:"div",onClose:e[8]||(e[8]=l=>x.value=!1),class:"relative z-[51]"},{default:n(()=>[s(i(C),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:n(()=>[s(i(F),{class:"fixed inset-0 bg-[black]/60"})]),_:1}),t("div",je,[t("div",De,[s(i(C),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:n(()=>[s(i(q),{class:"panel border-0 p-0 rounded-lg overflow-hidden w-full max-w-lg text-black dark:text-white-dark"},{default:n(()=>[t("button",{type:"button",class:"absolute top-4 ltr:right-4 rtl:left-4 text-gray-400 hover:text-gray-800 dark:hover:text-gray-600 outline-none",onClick:e[5]||(e[5]=l=>x.value=!1)},[s(O)]),t("div",$e,d(p.value.id?"Edit Task List":"Add Task List"),1),t("div",Ie,[t("form",{onSubmit:L(lt,["prevent"])},[t("div",Me,[t("div",null,[e[29]||(e[29]=t("label",{for:"title"},"Name",-1)),M(t("input",{id:"title","onUpdate:modelValue":e[6]||(e[6]=l=>p.value.title=l),type:"text",class:"form-input mt-1",placeholder:"Enter Name"},null,512),[[S,p.value.title]])])]),t("div",Se,[t("button",{type:"button",class:"btn btn-outline-danger",onClick:e[7]||(e[7]=l=>x.value=!1)}," Cancel "),t("button",Ne,d(p.value.id?"Update":"Add"),1)])],32)])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]),s(i(Y),{appear:"",show:_.value,as:"template"},{default:n(()=>[s(i(B),{as:"div",onClose:e[15]||(e[15]=l=>_.value=!1),class:"relative z-[51]"},{default:n(()=>[s(i(C),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:n(()=>[s(i(F),{class:"fixed inset-0 bg-[black]/60"})]),_:1}),t("div",Ue,[t("div",Ve,[s(i(C),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:n(()=>[s(i(q),{class:"panel border-0 p-0 rounded-lg overflow-hidden w-full max-w-lg text-black dark:text-white-dark"},{default:n(()=>[t("button",{type:"button",class:"absolute top-4 ltr:right-4 rtl:left-4 text-gray-400 hover:text-gray-800 dark:hover:text-gray-600 outline-none",onClick:e[9]||(e[9]=l=>_.value=!1)},[s(O)]),t("div",Ae,d(a.value.id?"Edit Task":"Add Task"),1),t("div",Ee,[t("form",{onSubmit:L(it,["prevent"])},[t("div",Le,[t("div",null,[e[30]||(e[30]=t("label",{for:"taskTitle"},"Name",-1)),M(t("input",{id:"taskTitle","onUpdate:modelValue":e[10]||(e[10]=l=>a.value.title=l),type:"text",class:"form-input",placeholder:"Enter Name"},null,512),[[S,a.value.title]])]),t("div",null,[e[31]||(e[31]=t("label",{for:"taskTag"},"Tag",-1)),M(t("input",{id:"taskTag","onUpdate:modelValue":e[11]||(e[11]=l=>a.value.tags=l),type:"text",class:"form-input",placeholder:"Enter Tag"},null,512),[[S,a.value.tags]])]),t("div",null,[e[32]||(e[32]=t("label",{for:"duelDate"},"Duel date",-1)),s(i(_t),{id:"duelDate",modelValue:a.value.duelDate,"onUpdate:modelValue":e[12]||(e[12]=l=>a.value.duelDate=l),class:"form-input",config:st.value},null,8,["modelValue","config"])]),e[34]||(e[34]=t("div",{class:"mt-2"},[t("label",{for:""},"Executor")],-1)),t("div",null,[e[33]||(e[33]=t("label",{for:"taskdesc"},"Description",-1)),s(i(kt),{ref:"editor1",modelValue:a.value.description,"onUpdate:modelValue":e[13]||(e[13]=l=>a.value.description=l),options:Z.value,style:{height:"100px"}},null,8,["modelValue","options"])])]),t("div",Pe,[t("button",{type:"button",class:"btn btn-outline-danger",onClick:e[14]||(e[14]=l=>_.value=!1)}," Cancel "),t("button",Je,d(a.value.id?"Update":"Add"),1)])],32)])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]),s(i(Y),{appear:"",show:k.value,as:"template"},{default:n(()=>[s(i(B),{as:"div",onClose:e[19]||(e[19]=l=>k.value=!1),class:"relative z-[51]"},{default:n(()=>[s(i(C),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:n(()=>[s(i(F),{class:"fixed inset-0 bg-[black]/60"})]),_:1}),t("div",ze,[t("div",Oe,[s(i(C),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:n(()=>[s(i(q),{class:"panel border-0 p-0 rounded-lg overflow-hidden w-full max-w-3xl text-black dark:text-white-dark"},{default:n(()=>[t("button",{type:"button",class:"absolute top-4 ltr:right-4 rtl:left-4 text-gray-400 hover:text-gray-800 dark:hover:text-gray-600 outline-none",onClick:e[16]||(e[16]=l=>k.value=!1)},[s(O)]),e[36]||(e[36]=t("div",{class:"text-lg font-medium bg-[#fbfbfb] dark:bg-[#121c2c] ltr:pl-5 rtl:pr-5 py-3 ltr:pr-[50px] rtl:pl-[50px]"}," Delete Task ",-1)),t("div",Be,[t("div",Fe,[s(W)]),e[35]||(e[35]=t("div",{class:"text-base sm:w-3/4 mx-auto mt-5"}," Are you sure you want to delete Task? ",-1)),t("div",qe,[t("button",{type:"button",class:"btn btn-outline-danger",onClick:e[17]||(e[17]=l=>k.value=!1)}," Cancel "),t("button",{type:"button",class:"btn btn-primary ltr:ml-4 rtl:mr-4",onClick:e[18]||(e[18]=l=>rt())}," Delete ")])])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])]),_:1})}}});export{is as default};
